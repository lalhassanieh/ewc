{%- assign collection 			= collections[block.settings.collection] -%}
{%- assign collection_handle 	= collection.handle -%}
{%- assign image 		= block.settings.image -%}
{%- assign count  = 0 -%}
<div class="collection-item bwp-effect-{{ section.settings.effects }}">
    {%- if collection == blank -%}
        {%- assign collection_title = 'home_page.onboarding.collection_title' | t -%}
    {%- else -%}
        {%- assign collection_title = collections[collection_handle].title | escape -%}
    {%- endif -%}
    <div class="collection-item__image image-parent">
        <a href="{{ collections[collection_handle].url }}" class="collection-image__link image-effect">
            {%- if image -%}
                {% include 'img-global' with image: image, class: "featured-banner__img", effect: "fade-in" %}
            {%- else -%}
                <img class="lazyload fade-in" src="{{ 'placeholder.svg' | asset_url }}" alt="image demo" width="330" height="489" />
            {%- endif -%}
        </a>
    </div>
    <div class="collection-item__title">
        <a href="{{ collections[collection_handle].url }}" class="collection-item__link">
            {{ collection_title }}
            {% if block.settings.count %}<span class="count"> {{ collection.products_count }}</span>{% endif %}
        </a>
    </div>
</div>
{% schema %}
  {
    "name": "Collection image",
    "settings": [
        {
            "id": "collection",
            "type": "collection",
            "label": "Collection"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image Collection"
        },
        {
			"type": "checkbox",
			"id": "count",
			"label": "Show count product"
		}
    ],
    "presets": [{"name": "Collection image"}]
  }
{% endschema %}